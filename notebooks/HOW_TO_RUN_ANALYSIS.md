# ğŸ“Š ä¿è´¹ä¸æˆæœ¬ç‡åˆ†æ - ä½¿ç”¨è¯´æ˜

## âš ï¸ é‡è¦å‰æ

è¿™ä¸ªåˆ†æè„šæœ¬éœ€è¦åœ¨ **Jupyter Notebook** ä¸­è¿è¡Œï¼Œå¹¶ä¸”**æ•°æ®å¿…é¡»å·²ç»é€šè¿‡ DataSession åŠ è½½**ã€‚

## ğŸš€ æ­£ç¡®çš„ä½¿ç”¨æ­¥éª¤

### Step 1: åœ¨ Notebook ä¸­åŠ è½½æ•°æ®

é¦–å…ˆï¼Œåœ¨ä¸€ä¸ªå•å…ƒæ ¼ä¸­è¿è¡Œï¼š

```python
from src.session import DataSession
import polars as pl
import plotly.express as px

# åˆ›å»ºä¼šè¯
session = DataSession()

# åŠ è½½æ•°æ®ï¼ˆè¿™ä¼šåˆ›å»ºå…¨å±€å˜é‡ df_dfï¼‰
session.load("alldata", alias="df")

# æŸ¥çœ‹ä¼šè¯æ‘˜è¦
session.summary()
```

è¿è¡Œåï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
âœ… å·²åŠ è½½: df_df (alldata)
âœ… æ•°æ®ä¼šè¯å·²åˆå§‹åŒ–

å·²åŠ è½½æ•°æ®é›†ï¼š
  1. df_df (alldata)
     - 776,739 è¡Œ Ã— 68 åˆ—
     - å†…å­˜: 585.8 MB

ğŸ’¡ AI æç¤ºï¼šç°åœ¨å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡
   df_df
```

### Step 2: è¿è¡Œåˆ†æè„šæœ¬

åœ¨**æ–°çš„å•å…ƒæ ¼**ä¸­ï¼Œè¿è¡Œåˆ†æè„šæœ¬ï¼š

**æ–¹æ³•1: ä½¿ç”¨ %run é­”æœ¯å‘½ä»¤**
```python
%run /Users/harold/working/Jupyter_AI_DataAnalyze/notebooks/analysis_premium_loss_ratio_5years.py
```

**æ–¹æ³•2: ç›´æ¥å¤åˆ¶ä»£ç **
æ‰“å¼€ `notebooks/analysis_premium_loss_ratio_5years.py`ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹åˆ°æ–°å•å…ƒæ ¼ä¸­è¿è¡Œã€‚

## âŒ å¸¸è§é”™è¯¯

### é”™è¯¯1: `NameError: name 'df_df' is not defined`

**åŸå› **ï¼š
- æ²¡æœ‰è¿è¡Œ Step 1 åŠ è½½æ•°æ®
- æˆ–è€…ä½¿ç”¨äº†ä¸åŒçš„ alias

**è§£å†³æ–¹æ¡ˆ**ï¼š
ç¡®ä¿å…ˆè¿è¡Œäº† `session.load("alldata", alias="df")`

### é”™è¯¯2: ä½¿ç”¨äº†ä¸åŒçš„ alias

å¦‚æœä½ ä½¿ç”¨äº†ä¸åŒçš„ aliasï¼Œæ¯”å¦‚ï¼š
```python
session.load("alldata", alias="my_data")  # è¿™ä¼šåˆ›å»º df_my_data
```

é‚£ä¹ˆä½ éœ€è¦ä¿®æ”¹åˆ†æè„šæœ¬ä¸­çš„å˜é‡åï¼š
- å°†æ‰€æœ‰ `df_df` æ”¹ä¸º `df_my_data`

## ğŸ“ æ£€æŸ¥æ•°æ®æ˜¯å¦å·²åŠ è½½

åœ¨è¿è¡Œåˆ†æå‰ï¼Œå…ˆæ£€æŸ¥ï¼š

```python
# æ£€æŸ¥å˜é‡æ˜¯å¦å­˜åœ¨
if 'df_df' in globals():
    print(f"âœ… df_df å·²åŠ è½½ï¼ŒåŒ…å« {df_df.height:,} è¡Œæ•°æ®")
else:
    print("âŒ df_df æœªåŠ è½½ï¼Œè¯·å…ˆè¿è¡Œ session.load()")
```

## ğŸ¯ å®Œæ•´çš„ Notebook å·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cell 1: å¯¼å…¥å’Œåˆå§‹åŒ–                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ from src.session import DataSession â”‚
â”‚ import polars as pl                 â”‚
â”‚ import plotly.express as px         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cell 2: åŠ è½½æ•°æ®                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ session = DataSession()             â”‚
â”‚ session.load("alldata", alias="df") â”‚
â”‚ session.summary()                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cell 3: è¿è¡Œåˆ†æ                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ %run analysis_premium_...5years.py  â”‚
â”‚ # æˆ–ç›´æ¥ç²˜è´´åˆ†æä»£ç                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¾“å‡º: è¡¨æ ¼ã€å›¾è¡¨ã€æ´å¯Ÿ                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’¡ æç¤º

1. **æ•°æ®å·²åœ¨å†…å­˜**ï¼šDataSession ä¼šå°†æ•°æ®æ³¨å…¥åˆ° Jupyter çš„å…¨å±€å‘½åç©ºé—´ï¼Œæ‰€ä»¥åˆ†æè„šæœ¬å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

2. **AI åä½œæ¨¡å¼**ï¼šè¿™å°±æ˜¯é¡¹ç›®è®¾è®¡çš„æ ¸å¿ƒâ€”â€”AI ç”Ÿæˆçš„ä»£ç ç›´æ¥ä½¿ç”¨å·²åŠ è½½çš„æ•°æ®ï¼Œæ— éœ€é‡å¤åŠ è½½ã€‚

3. **è‡ªå®šä¹‰åˆ†æ**ï¼šä½ å¯ä»¥åŸºäº `analysis_premium_loss_ratio_5years.py` ä¿®æ”¹ï¼Œåˆ›å»ºè‡ªå·±çš„åˆ†æè„šæœ¬ã€‚

## ğŸ”§ å¦‚æœä»æœ‰é—®é¢˜

å°è¯•åœ¨ Notebook ä¸­è¿è¡Œï¼š

```python
# è°ƒè¯•ä¿¡æ¯
print("å½“å‰å…¨å±€å˜é‡ï¼š")
print([k for k in globals().keys() if k.startswith('df_')])

print("\nDataSession ä¸­çš„æ•°æ®ï¼š")
print(session.list_loaded())
```

è¿™ä¼šæ˜¾ç¤ºæ‰€æœ‰å·²åŠ è½½çš„æ•°æ®æ¡†å˜é‡ã€‚

---

**ç°åœ¨è¯•è¯•å§ï¼** ğŸš€
